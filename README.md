
# canvas interface

canvas-interface 是一个图形界面库，目标是方便地利用 Canvas2D 的功能开发各种图形界面工具。
考虑到现代 2D 图形接口的一致性，它同样可以很容易地迁移至类似 Skia/CanvasKit、SDL 等图形库，乃至其他嵌入式的或者平台独有的（比如 d2d1）图形库。
也就是说，一个没有 `<div>` 和浏览器环境的平台，只需要支持 JavaScript，并且实现了绘图接口就可以。
我们希望在这个项目中解决可以在 JavaScript 层面可以解决的问题，比如组织起一套基本的窗口、图标、按钮等等语汇。
例如 layout 等问题，尽管已经有了类似 `facebook/yoga` 这样定义完备的原生实现，但是在这个项目中，我们还是自己实现了一个简单的布局引擎。
更加复杂的问题主要集中在 Unicode 和文本渲染的层面，这是由自然语言和书写系统本身的历史和复杂性决定的。输入或者富文本编辑的相关复杂性也来源于此。
尽管用 JavaScript 处理也并非不可能，我们还是选择把这个问题留到更底层处理。

在这个项目中，我们希望的是尽量做到开发者友好。也就是说，能够像是在编写一般的网页一样，使用 canvas-interface 开发图形界面。
尽管没有 Markup Language，但还是可以使用 JSX。也没有 CSS，但是说不定反而更加简单。
有着足够方便的 DevTools，能够轻松地进行 Debug 和 Inspect，也能具体地了解发生了什么，事件如何流动。
当然，界面编辑的相关功能也必不可少。不如说，界面编辑器的存在本身也是这个库的实用性的证明。
这些 DevTools 和 Editor 是这个项目的重要组成部分，甚至可以说是无法脱离的项目本身。我认为，在使用这个库时，这些内容应该不被
Shake 掉才是合适的。维持一种编辑器即界面的同构关系符合我的产品哲学，或者说我对面向对象的理解。
这些自言自语称不上是正式的文档，主要是作为备忘录使用，倒也算是一种非正式的指引。
如果真的有人使用这个库，我会考虑写一个正式的文档。

-- tl 2025/09/02

## 关于 requestAnimationFrame

